<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üíò –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞</title>
  <style>
    :root{
      --bg1:#ffdee9;
      --bg2:#b5fffc;
      --card:#ffffffcc;
      --text:#111827;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:
        radial-gradient(1200px 800px at 20% 20%, var(--bg1), transparent),
        radial-gradient(1200px 800px at 80% 80%, var(--bg2), transparent),
        #fff;
      color:var(--text);
      overflow:hidden;
    }
    .card{
      width:min(92vw, 640px);
      background:var(--card);
      backdrop-filter: blur(10px);
      border:1px solid #ffffff80;
      border-radius:24px;
      padding:28px 22px;
      box-shadow:0 20px 60px rgba(0,0,0,.12);
      text-align:center;
      position:relative;
      z-index:1;
    }
    h1{
      margin:0 0 10px;
      font-size: clamp(22px, 4.5vw, 34px);
      line-height:1.15;
    }
    p{ margin:0 0 18px; opacity:.85; }

    .btns{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:10px;
    }
    button{
      border:0;
      padding:12px 18px;
      border-radius:14px;
      font-size:16px;
      cursor:pointer;
      user-select:none;
      touch-action: manipulation;
      line-height:1;
      transition: transform .08s ease, box-shadow .2s ease, opacity .2s ease;
    }
    #yes{
      background:#ff4d6d;
      color:#fff;
      box-shadow:0 10px 25px rgba(255,77,109,.35);
    }
    #yes:active{ transform: translateY(1px) scale(.99); }

    /* –ë–æ–ª—å—à–∞—è "–ù–µ—Ç" ‚Äî –ø–æ —Å—Ü–µ–Ω–∞—Ä–∏—é –Ω–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞ */
    #no{
      background:#111827;
      color:#fff;
      box-shadow:0 10px 25px rgba(17,24,39,.25);
    }

    .hiddenish{
      opacity:0;
      pointer-events:none; /* —á—Ç–æ–±—ã —Ç–æ—á–Ω–æ –Ω–µ –∫–ª–∏–∫–∞–ª–∞—Å—å */
      transform: scale(.96);
    }

    .result{
      display:none;
      margin-top:18px;
      animation: pop .35s ease;
      text-align:center;
    }
    @keyframes pop{
      from{ transform: scale(.96); opacity:0; }
      to{ transform: scale(1); opacity:1; }
    }

    .media{
      margin-top:12px;
      display:grid;
      place-items:center;
    }
    .media img{
      width:min(380px, 86vw);
      border-radius:18px;
      border:2px solid #ffffffaa;
      box-shadow:0 16px 45px rgba(0,0,0,.18);
      display:block;
    }

    .hint{
      margin-top:14px;
      display:flex;
      gap:10px;
      justify-content:center;
      align-items:center;
      flex-wrap:wrap;
      font-size:16px;
    }
    .mini-no{
      padding:6px 10px;
      border-radius:999px;
      font-size:13px;
      background:#111827;
      color:#fff;
      opacity:.9;
      box-shadow:0 8px 18px rgba(17,24,39,.18);
    }
    .mini-no:active{ transform: translateY(1px); }

    .gallery{
      display:none;
      margin-top:14px;
      padding:12px;
      border-radius:18px;
      border:1px solid #ffffffaa;
      background:#ffffffb8;
    }
    .grid{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:8px;
    }
    @media (max-width: 520px){
      .grid{ grid-template-columns: repeat(3, 1fr); }
    }
    .grid img{
      width:100%;
      aspect-ratio: 1 / 1;
      object-fit: cover;
      border-radius:12px;
      border:1px solid #ffffffcc;
      box-shadow:0 10px 25px rgba(0,0,0,.10);
    }
    .badge{
      display:inline-block;
      margin-top:10px;
      padding:8px 12px;
      border-radius:999px;
      background:#ffffffd9;
      border:1px solid #ffffffaa;
      font-weight:600;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>–ë—É–¥–µ—à—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π? üíò</h1>
    <p>–í—ã–±–µ—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç üëá</p>

    <div class="btns" id="startBtns">
      <button id="yes">–î–∞</button>
      <button id="no" type="button" aria-label="–ù–µ—Ç">–ù–µ—Ç</button>
    </div>

    <div class="result" id="result">
      <div class="badge">–û–∫–µ–π üòÑ</div>

      <!-- GIF –≤–º–µ—Å—Ç–æ —Ñ–æ—Ç–∫–∏ -->
      <div class="media">
        <!-- –∑–∞–º–µ–Ω–∏ –∏–º—è —Ñ–∞–π–ª–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ -->
        <img src="valentine.gif" alt="GIF" />
      </div>

      <div class="hint">
        <span>–ª–∞–¥–Ω–æ, —Ä–∞–¥–∏ —à—É—Ç–∫–∏ –Ω–∞–∂–º–∏ –Ω–µ—Ç</span>
        <button class="mini-no" id="miniNo" type="button">–Ω–µ—Ç</button>
      </div>

      <div class="gallery" id="gallery">
        <div style="opacity:.85;margin:0 0 10px;">–Ω—É —Ä–∞–∑ –Ω–∞–∂–∞–ª–∞‚Ä¶ –¥–µ—Ä–∂–∏ –º–Ω–æ–≥–æ –º–µ–Ω—è üòå</div>
        <div class="grid" id="grid"></div>
      </div>
    </div>
  </div>

  <script>
    const yesBtn = document.getElementById("yes");
    const noBtn = document.getElementById("no");
    const result = document.getElementById("result");
    const startBtns = document.getElementById("startBtns");

    const miniNo = document.getElementById("miniNo");
    const gallery = document.getElementById("gallery");
    const grid = document.getElementById("grid");

    // 1) "–ù–µ—Ç" –Ω–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞ + –∏—Å—á–µ–∑–∞–µ—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
    function hideNoTemporarily() {
      // —É–∂–µ —Å–ø—Ä—è—Ç–∞–Ω–∞ ‚Äî –Ω–µ —Å–ø–∞–º–∏–º
      if (noBtn.classList.contains("hiddenish")) return;

      noBtn.classList.add("hiddenish");

      // –ß–µ—Ä–µ–∑ –≤—Ä–µ–º—è –≤–æ–∑–≤—Ä–∞—â–∞–µ–º (—á—Ç–æ–±—ã –Ω–µ –ø—Ä–æ–ø–∞–ª–∞ –Ω–∞–≤—Å–µ–≥–¥–∞)
      setTimeout(() => {
        noBtn.classList.remove("hiddenish");
      }, 800);
    }

    // Desktop hover
    noBtn.addEventListener("mouseenter", hideNoTemporarily);

    // Mobile touch (—á—Ç–æ–±—ã —Ç–æ–∂–µ –∏—Å—á–µ–∑–∞–ª–∞)
    noBtn.addEventListener("touchstart", (e) => {
      e.preventDefault();
      hideNoTemporarily();
    }, { passive: false });

    // –ù–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ –ø–æ–ø—Ä–æ–±—É–µ—Ç –∫–ª–∏–∫–Ω—É—Ç—å ‚Äî –≥–ª—É—à–∏–º
    noBtn.addEventListener("click", (e) => {
      e.preventDefault();
      hideNoTemporarily();
    });

    // 2) –ù–∞–∂–∞–ª–∏ "–î–∞" ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º GIF + —Å—Ü–µ–Ω–∞—Ä–∏–π —Å –º–∏–Ω–∏-–Ω–µ—Ç
    yesBtn.addEventListener("click", () => {
      result.style.display = "block";
      // –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏, –Ω–æ –æ–±—ã—á–Ω–æ –∫—Ä–∞—Å–∏–≤–µ–µ —Å–∫—Ä—ã—Ç—å
      startBtns.style.display = "none";
    });

    // 3) –ú–∏–Ω–∏-–∫–Ω–æ–ø–∫–∞ "–Ω–µ—Ç" ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –º–Ω–æ–≥–æ –¥—É–±–ª–µ–π –≤—Ç–æ—Ä–æ–π —Ñ–æ—Ç–∫–∏
    const photo2 = "photo2.jpg"; // –ø–æ–º–µ–Ω—è–π, –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–∞—á–µ
    const duplicates = 16;       // —Å–∫–æ–ª—å–∫–æ –¥—É–±–ª–µ–π –ø–æ–∫–∞–∑–∞—Ç—å

    function buildGrid() {
      grid.innerHTML = "";
      for (let i = 0; i < duplicates; i++) {
        const img = document.createElement("img");
        // cache-bust —á—Ç–æ–±—ã –Ω–µ –∑–∞–ª–∏–ø–∞–ª–æ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö
        img.src = photo2 + "?v=" + i;
        img.alt = "–§–æ—Ç–æ " + (i+1);
        grid.appendChild(img);
      }
    }

    miniNo.addEventListener("click", () => {
      if (gallery.style.display === "block") {
        gallery.style.display = "none";
        return;
      }
      buildGrid();
      gallery.style.display = "block";
      // –ª—ë–≥–∫–∏–π —Å–∫—Ä–æ–ª–ª –∫ –≥–∞–ª–µ—Ä–µ–µ (–Ω–∞ –º–æ–±–∏–ª–µ –ø—Ä–∏—è—Ç–Ω–æ)
      gallery.scrollIntoView({ behavior: "smooth", block: "center" });
    });
  </script>
</body>
</html>
