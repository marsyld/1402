<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üíò –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞</title>
  <style>
    :root {
      --bg1:#ffdee9;
      --bg2:#b5fffc;
      --card:#ffffffcc;
      --text:#1f2937;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 800px at 20% 20%, var(--bg1), transparent),
                  radial-gradient(1200px 800px at 80% 80%, var(--bg2), transparent),
                  #fff;
      color: var(--text);
      overflow: hidden; /* —á—Ç–æ–±—ã "–ù–µ—Ç" –Ω–µ —Å–∫—Ä–æ–ª–ª–∏–ª —Å—Ç—Ä–∞–Ω–∏—Ü—É */
    }
    .card {
      width: min(92vw, 560px);
      background: var(--card);
      backdrop-filter: blur(10px);
      border: 1px solid #ffffff80;
      border-radius: 24px;
      padding: 28px 22px;
      box-shadow: 0 20px 60px rgba(0,0,0,.12);
      text-align: center;
      position: relative;
    }
    h1 {
      margin: 0 0 10px;
      font-size: clamp(22px, 4.5vw, 34px);
      line-height: 1.15;
    }
    p { margin: 0 0 18px; opacity: .85; }
    .btns {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 10px;
    }
    button {
      border: 0;
      padding: 12px 18px;
      border-radius: 14px;
      font-size: 16px;
      cursor: pointer;
      transition: transform .08s ease, box-shadow .2s ease, opacity .2s ease;
      user-select: none;
      touch-action: manipulation;
    }
    #yes {
      background: #ff4d6d;
      color: white;
      box-shadow: 0 10px 25px rgba(255,77,109,.35);
    }
    #yes:active { transform: translateY(1px) scale(.99); }
    #no {
      background: #111827;
      color: white;
      box-shadow: 0 10px 25px rgba(17,24,39,.25);
      position: absolute; /* –±—É–¥–µ—Ç —É–ª–µ—Ç–∞—Ç—å –ø–æ —ç–∫—Ä–∞–Ω—É */
      left: 50%;
      top: calc(50% + 70px);
      transform: translate(-50%, 0);
      z-index: 3;
    }
    .result {
      margin-top: 18px;
      display: none;
      animation: pop .35s ease;
    }
    .result img {
      width: min(320px, 80vw);
      border-radius: 18px;
      border: 2px solid #ffffffaa;
      box-shadow: 0 16px 45px rgba(0,0,0,.18);
      display: block;
      margin: 12px auto 0;
    }
    .badge {
      display: inline-block;
      margin-top: 10px;
      padding: 8px 12px;
      border-radius: 999px;
      background: #ffffffd9;
      border: 1px solid #ffffffaa;
      font-weight: 600;
    }
    @keyframes pop {
      from { transform: scale(.96); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    .hearts {
      position: fixed;
      inset: 0;
      pointer-events: none;
      opacity: .35;
      z-index: 0;
    }
  </style>
</head>
<body>
  <canvas class="hearts" id="hearts"></canvas>

  <div class="card" id="card">
    <h1>–ë—É–¥–µ—à—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π? üíò</h1>
    <p>–í—ã–±–æ—Ä –≤—Å–µ–≥–æ –æ–¥–∏–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π üòÑ</p>

    <div class="btns">
      <button id="yes">–î–∞</button>
    </div>

    <button id="no" aria-label="–ù–µ—Ç">–ù–µ—Ç</button>

    <div class="result" id="result">
      <div class="badge">–£—Ä–∞–∞–∞! üíñ</div>
      <div style="font-size:18px;margin-top:10px;">–¢–æ–≥–¥–∞ –¥–µ—Ä–∂–∏ –º–µ–Ω—è üòå</div>
      <!-- –ü–æ–ª–æ–∂–∏ –≤ –ø–∞–ø–∫—É —Ñ–∞–π–ª myphoto.jpg –∏–ª–∏ –ø–æ–º–µ–Ω—è–π –ø—É—Ç—å –Ω–∏–∂–µ -->
      <img id="photo" src="myphoto.jpg" alt="–§–æ—Ç–æ" />
    </div>
  </div>

  <script>
    const noBtn = document.getElementById("no");
    const yesBtn = document.getElementById("yes");
    const result = document.getElementById("result");

    function clamp(v, min, max){ return Math.max(min, Math.min(max, v)); }

    function moveNoButton(nearX = null, nearY = null) {
      const padding = 12;
      const btnRect = noBtn.getBoundingClientRect();

      const maxX = window.innerWidth - btnRect.width - padding;
      const maxY = window.innerHeight - btnRect.height - padding;

      let x = Math.random() * maxX;
      let y = Math.random() * maxY;

      // –ï—Å–ª–∏ –µ—Å—Ç—å –ø–æ–∑–∏—Ü–∏—è –∫—É—Ä—Å–æ—Ä–∞/—Ç–∞–ø–∞ ‚Äî —É–ª–µ—Ç–∞–µ–º –ø–æ–¥–∞–ª—å—à–µ –æ—Ç –Ω–µ—ë
      if (nearX !== null && nearY !== null) {
        // —Å–º–µ—â–∞–µ–º –≤ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É
        const dx = x - nearX;
        const dy = y - nearY;
        x = clamp(nearX + (dx >= 0 ? 220 : -220) + (Math.random()*80 - 40), padding, maxX);
        y = clamp(nearY + (dy >= 0 ? 160 : -160) + (Math.random()*80 - 40), padding, maxY);
      }

      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";
      noBtn.style.transform = "none";
    }

    // –ß—Ç–æ–±—ã "–ù–µ—Ç" —Å—Ä–∞–∑—É –±—ã–ª –∂–∏–≤–æ–π
    window.addEventListener("load", () => moveNoButton());
    window.addEventListener("resize", () => moveNoButton());

    // –£–±–µ–≥–∞–µ—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –º—ã—à–∏
    noBtn.addEventListener("mouseenter", (e) => moveNoButton(e.clientX, e.clientY));

    // –ù–∞ –º–æ–±–∏–ª–µ: —É–±–µ–≥–∞–µ—Ç, –∫–æ–≥–¥–∞ –ø–∞–ª–µ—Ü —Ä—è–¥–æ–º/–ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–∂–∞—Ç—å
    noBtn.addEventListener("touchstart", (e) => {
      const t = e.touches[0];
      moveNoButton(t.clientX, t.clientY);
      e.preventDefault();
    }, { passive: false });

    // –ï—Å–ª–∏ –≤—Å—ë-—Ç–∞–∫–∏ –ø–æ–ø–∞–ª–∏ –∫–ª–∏–∫–æ–º (–º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ) ‚Äî —Ç–æ–∂–µ —É–ª–µ—Ç–∞–µ—Ç
    noBtn.addEventListener("click", (e) => moveNoButton(e.clientX, e.clientY));

    // "–î–∞" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–æ—Ç–∫—É
    yesBtn.addEventListener("click", () => {
      result.style.display = "block";
      // –ø—Ä—è—á–µ–º "–ù–µ—Ç" —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞–ª
      noBtn.style.display = "none";
      yesBtn.disabled = true;
      yesBtn.style.opacity = "0.7";
      burstHearts();
    });

    // –ú–∏–ª—ã–µ —Å–µ—Ä–¥–µ—á–∫–∏ –Ω–∞ —Ñ–æ–Ω–µ
    const c = document.getElementById("hearts");
    const ctx = c.getContext("2d");
    const hearts = [];
    function resizeCanvas(){
      c.width = window.innerWidth;
      c.height = window.innerHeight;
    }
    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();

    function spawnHeart(x, y, big=false){
      hearts.push({
        x, y,
        vy: -(2 + Math.random()*2) * (big ? 1.4 : 1),
        vx: (Math.random()*2-1) * (big ? 1.2 : 1),
        s: (6 + Math.random()*10) * (big ? 1.6 : 1),
        a: 1,
        r: Math.random()*Math.PI
      });
    }

    function burstHearts(){
      const cx = window.innerWidth/2;
      const cy = window.innerHeight/2;
      for(let i=0;i<26;i++) spawnHeart(cx + (Math.random()*120-60), cy + (Math.random()*60-30), true);
    }

    // –ª–µ–≥–∫–∏–π "–¥–æ–∂–¥—å" —Å–µ—Ä–¥–µ—Ü
    setInterval(() => {
      if (Math.random() < 0.6) spawnHeart(Math.random()*window.innerWidth, window.innerHeight + 10);
    }, 220);

    function drawHeart(x,y,s,rot,alpha){
      ctx.save();
      ctx.translate(x,y);
      ctx.rotate(rot);
      ctx.globalAlpha = alpha;
      ctx.beginPath();
      const k = s/16;
      ctx.moveTo(0, 6*k);
      ctx.bezierCurveTo(0, 0, -8*k, 0, -8*k, 6*k);
      ctx.bezierCurveTo(-8*k, 12*k, 0, 14*k, 0, 18*k);
      ctx.bezierCurveTo(0, 14*k, 8*k, 12*k, 8*k, 6*k);
      ctx.bezierCurveTo(8*k, 0, 0, 0, 0, 6*k);
      ctx.fill();
      ctx.restore();
    }

    function tick(){
      ctx.clearRect(0,0,c.width,c.height);
      ctx.fillStyle = "#ff4d6d";
      for(let i=hearts.length-1;i>=0;i--){
        const h = hearts[i];
        h.x += h.vx;
        h.y += h.vy;
        h.vy -= 0.02; // —Å–ª–µ–≥–∫–∞ —É—Å–∫–æ—Ä—è–µ–º –≤–≤–µ—Ä—Ö
        h.a -= 0.012;
        h.r += 0.02;
        drawHeart(h.x,h.y,h.s,h.r,Math.max(0,h.a));
        if (h.a <= 0) hearts.splice(i,1);
      }
      requestAnimationFrame(tick);
    }
    tick();
  </script>
</body>
</html>
